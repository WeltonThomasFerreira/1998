<div class="game-detail-container">
  @if (game() && !isLoadingRules()) {
    <mat-card class="game-detail-card mat-elevation-z8">
      <mat-card-header>
        <mat-card-title class="game-title">{{ game()!.name }}</mat-card-title>
        <mat-card-subtitle class="game-players">{{
          game()!.players
        }}</mat-card-subtitle>
      </mat-card-header>
      <img
        mat-card-image
        [src]="game()!.image"
        [alt]="game()!.name"
        class="game-image"
      />
      <mat-card-content>
        <div class="section-description">
          <h3 class="section-title">{{ descriptionSectionTitle }}</h3>
          <p class="section-text">{{ game()!.description }}</p>
        </div>

        <div class="section-rules">
          <h3 class="section-title">{{ rulesSectionTitle }}</h3>
          <div class="markdown-content" [innerHTML]="sanitizedRules()"></div>
        </div>
      </mat-card-content>
      <mat-card-actions class="game-detail-actions">
        <button mat-button [routerLink]="['/games']">
          <mat-icon>arrow_back</mat-icon> {{ backToGamesButtonLabel }}
        </button>
      </mat-card-actions>
    </mat-card>
  } @else if (isLoadingRules()) {
    <div class="loading-spinner-container">
      <mat-spinner></mat-spinner>
      <p>{{ loadingRulesMessage }}</p>
    </div>
  } @else {
    <mat-card class="game-detail-card mat-elevation-z8 not-found-card">
      <mat-card-header>
        <mat-card-title class="game-title">{{
          gameNotFoundTitle
        }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="section-text">{{ gameNotFoundMessage }}</p>
      </mat-card-content>
      <mat-card-actions class="game-detail-actions">
        <button mat-raised-button color="primary" [routerLink]="['/']">
          <mat-icon>home</mat-icon> {{ backToHomeButtonLabel }}
        </button>
      </mat-card-actions>
    </mat-card>
  }
</div>
