/* src/app/styles/styles.scss */

// Ponto de entrada principal para os estilos globais da aplicação.

// Importar o módulo principal do Angular Material
@use "@angular/material" as mat;

// Incluir o core do Material para estilos fundamentais.
// Este mixin deve ser incluído apenas uma vez no seu stylesheet global.
// Ele fornece os estilos estruturais e de layout para os componentes Material.
@include mat.core();

/* Variáveis SCSS para espaçamento, fontes e breakpoints */
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;
$spacing-2xl: 48px;

$font-size-xs: 0.75rem;
$font-size-sm: 0.875rem;
$font-size-md: 1rem;
$font-size-lg: 1.25rem;
$font-size-xl: 1.5rem;
$font-size-2xl: 1.75rem;
$font-size-3xl: 2rem;
$font-size-4xl: 2.5rem;

$border-radius-sm: 4px;
$border-radius-md: 8px;
$border-radius-lg: 12px;

$breakpoint-mobile: 600px;
$breakpoint-tablet: 960px;

/* Variáveis SCSS para sombras */
$shadow-md:
  0 4px 6px -1px rgba(0, 0, 0, 0.1),
  0 2px 4px -1px rgba(0, 0, 0, 0.06);
$shadow-xl:
  0 20px 25px -5px rgba(0, 0, 0, 0.1),
  0 10px 10px -5px rgba(0, 0, 0, 0.04);

/* Estilos para o tema claro (aplicados quando a classe 'light-theme' está no <html>) */
.light-theme {
  // Cores para o tema claro, inspiradas na paleta Dracula mas com fundo claro
  --background-color: #f8f8f2; // Fundo claro (foreground do Dracula)
  --card-background-color: #ffffff; // Fundo de cards/elementos (branco puro)
  --hover-background-color: #e0e0e0; // Fundo ao passar o mouse (cinza claro)
  --border-color: #d0d0d0; // Cor de bordas (cinza médio)

  --text-color: #282a36; // Texto principal (background do Dracula)
  --text-color-secondary: #44475a; // Texto secundário (current line do Dracula)

  // Cores do cabeçalho - consistentes com o cabeçalho da imagem do Dracula Theme
  --primary-color: #1a1a1a; // Fundo do cabeçalho no modo claro (quase preto, como na imagem)
  --primary-text-color: #f8f8f2; // Texto branco/claro para elementos primários (foreground do Dracula)
  --primary-text-color-hover: #ff79c6; // Rosa do Dracula no hover

  --card-background: var(--card-background-color);
  --card-text: var(--text-color);
  --chip-background: #e1bee7; // Roxo muito claro
  --chip-text: #4a148c; // Roxo escuro
  --chip-border-color: #ba68c8; // Roxo médio

  // Cor do ícone da toolbar para o tema claro (cor do texto principal do cabeçalho)
  --toolbar-icon-color: var(
    --primary-text-color
  ); // Ícones da cor do texto do logo (branco)
  --logo-background-color: #bd93f9; // Roxo do Dracula para o fundo do logo
  --logo-text-color: var(
    --primary-text-color
  ); // Alterado para usar a cor do texto primário (branco)
}

/* Estilos para o tema escuro (aplicados quando a classe 'dark-theme' está no <html>) */
html.dark-theme {
  // Cores do Dracula Theme
  --background-color: #282a36; // Fundo principal do Dracula
  --card-background-color: #44475a; // Fundo de cards/elementos (cor de seleção do Dracula)
  --hover-background-color: #6272a4; // Fundo ao passar o mouse (cyan claro)
  --border-color: #6272a4; // Cor de bordas

  --text-color: #f8f8f2; // Texto principal (foreground do Dracula)
  --text-color-secondary: #bd93f9; // Texto secundário (purple do Dracula)

  // Cores do cabeçalho - consistentes com o cabeçalho da imagem do Dracula Theme
  --primary-color: #1a1a1a; // Fundo do cabeçalho no modo escuro (quase preto, como na imagem)
  --primary-text-color: #f8f8f2; // Texto branco/claro para o primary (foreground do Dracula)
  --primary-text-color-hover: #ff79c6; // Rosa do Dracula no hover

  --card-background: var(--card-background-color);
  --card-text: var(--text-color);
  --chip-background: #6272a4; // Azul/cinza do Dracula
  --chip-text: #f8f8f2; // Texto claro
  --chip-border-color: #ff79c6; // Borda rosa do Dracula

  // Cor do ícone da toolbar para o tema escuro (cor do texto principal do cabeçalho)
  --toolbar-icon-color: var(
    --primary-text-color
  ); // Ícones da cor do texto do logo (branco)
  --logo-background-color: #bd93f9; // Roxo do Dracula para o fundo do logo
  --logo-text-color: var(
    --primary-text-color
  ); // Alterado para usar a cor do texto primário (branco)
}

/* Estilos globais para html e body */
html,
body {
  height: 100%;
  margin: 0;
  font-family: "Inter", sans-serif; // Usando a fonte Inter
  scroll-behavior: smooth; // Rolagem suave
  /* Aplica as variáveis CSS de tema diretamente ao html/body */
  background-color: var(--background-color);
  color: var(--text-color);
  transition:
    background-color 0.3s ease,
    color 0.3s ease; /* Transição suave para mudança de tema */
  overflow-x: hidden; /* Evita rolagem horizontal indesejada */
}

/* Estilos para o router-outlet para garantir que ocupe o espaço */
router-outlet + * {
  display: block;
  flex: 1;
}

/* Estilos para o foco de acessibilidade (visível ao navegar com teclado) */
*:focus-visible {
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Classes utilitárias para responsividade e centralização */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: $spacing-md;

  @media (min-width: $breakpoint-mobile) {
    padding: $spacing-lg;
  }

  @media (min-width: $breakpoint-tablet) {
    padding: $spacing-xl;
  }
}

.text-center {
  text-align: center;
}

.mx-auto {
  margin-left: auto;
  margin-right: auto;
}

.my-8 {
  margin-top: 2rem;
  margin-bottom: 2rem;
}

.mb-8 {
  margin-bottom: 2rem;
}

.p-4 {
  padding: 1rem;
}

.rounded-lg {
  border-radius: 0.5rem;
}

.shadow-md {
  box-shadow: $shadow-md;
}

.shadow-xl {
  box-shadow: $shadow-xl;
}

/* Estilos para o conteúdo Markdown */
.markdown-content {
  padding: $spacing-md;
  max-width: 800px;
  margin: 0 auto;

  h1 {
    font-size: $font-size-4xl;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    color: var(--text-color); // Alterado para text-color
  }

  h2 {
    font-size: $font-size-3xl;
    margin-top: 1.2em;
    margin-bottom: 0.4em;
    color: var(--text-color); // Alterado para text-color
  }

  h3 {
    font-size: $font-size-2xl;
    margin-top: 1em;
    margin-bottom: 0.3em;
    color: var(--text-color); // Alterado para text-color
  }

  p {
    margin-bottom: 1em;
    line-height: 1.6;
  }

  ul,
  ol {
    padding-left: $spacing-xl;
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
  }

  strong {
    font-weight: bold;
  }

  em {
    font-style: italic;
  }

  a {
    color: var(--primary-color);
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }
}

@media (min-width: $breakpoint-mobile) {
  .markdown-content {
    padding: $spacing-lg;
  }
}

// Estilos para MatCard - Removido !important para permitir sobrescrita
mat-card {
  background-color: var(--card-background);
  color: var(--card-text);
  box-shadow: $shadow-md;
}

// Estilos para MatChip
mat-chip-listbox mat-chip {
  background-color: var(--chip-background) !important;
  color: var(--chip-text) !important;
  border: 1px solid var(--chip-border-color) !important;
}

// Estilos para MatToolbar
mat-toolbar {
  background-color: var(--primary-color) !important;
  color: var(
    --primary-text-color
  ) !important; // Garante que o texto do toolbar use a cor primária do texto
}

// Estilo para o logo do aplicativo no cabeçalho (Mantido no styles.scss)
.app-logo {
  display: flex;
  align-items: center;
  gap: $spacing-sm; /* Espaçamento entre ícone e texto */
  padding: $spacing-sm $spacing-md; /* Aumentado o padding para mais destaque */
  border-radius: $border-radius-md; /* Borda um pouco mais arredondada */
  background-color: var(
    --logo-background-color
  ); // Fundo do logo, definido em styles.scss
  color: var(
    --logo-text-color
  ); // Cor do texto do logo, definido em styles.scss
  font-weight: bold;
  text-decoration: none;
  transition:
    background-color 0.2s ease,
    color 0.2s ease;
  white-space: nowrap; /* Evita quebra de linha no texto do logo */

  &:hover {
    opacity: 0.9;
  }

  .app-logo-icon {
    font-size: $font-size-2xl; /* Ícone maior */
    width: $font-size-2xl;
    height: $font-size-2xl;
    color: var(
      --logo-text-color
    ); // Garante que o ícone também use a cor do texto do logo
  }

  span {
    font-size: $font-size-xl; /* Texto maior */
    line-height: 1;
  }
}

/* Estilos para painéis de dropdown do Angular Material */
.mat-mdc-select-panel {
  background-color: var(--card-background-color) !important;
  color: var(--text-color) !important;
  border-radius: $border-radius-md !important;
  box-shadow: $shadow-xl !important;
  padding: $spacing-sm !important;
}

/* Estilos para as opções dentro dos painéis de dropdown */
.mat-mdc-option {
  color: var(--text-color) !important;
  padding: $spacing-sm $spacing-md !important;

  &:hover {
    background-color: var(--hover-background-color) !important;
  }
  &.mat-mdc-option-active {
    background-color: rgba(var(--primary-color-rgb), 0.1) !important;
    color: var(--primary-color) !important;
  }
  &.mat-mdc-option-selected:not(.mat-mdc-option-multiple) {
    background-color: var(--primary-color) !important;
    color: var(--primary-text-color) !important;
  }
}
